学习笔记

# 分库分表方案

## 何时考虑分库分表

当数据库中当数据量过大，具体如主业务相关单表中的数据量太大，sql层面优化已是杯水车薪时，考虑拆分。


## 水平拆分（数据维度）

相同的表结构，数据散落在不同的表中，这些表中的数据共同组成这张表的数据。
比如一个订单表2000W+数据，水平拆分，得到100张与原先订单表结构相同的子表，数据根据具体算法存入这100张表中的某一张。降低每张比的数据量，同时提升总体容量。

## 垂直拆分（业务维度）

按照业务，将一张表的结构拆分为多张表相组合。
比如订单表，把订单表中的金额相关字段拆为单独的表与订单表关联，整个订单表的字段变少，单表可容纳的数据量增加，对一般订单表操作有提速作用。
相对的，单表变的易于维护，但总体维护难度增加，存在较强的系统侵入性。